<?php if($menuData = get_menu_name('Assets','Print','design')):?>
<title>{$menuData['actionname']}</title>
<?php endif?>
<script>
    //解决ie placeholder兼容性
    $(function(){ $('input, textarea').placeholder(); });
    var design = "{$design}";
</script>
<style>
    #LAY-Assets-Print-design body{
        color:#000000;
        font-size: 16px;
        font-family: "Microsoft YaHei", "微软雅黑", "Hiragino Sans GB", STHeiti, simsun, sans-serif, Arial;
    }
    #LAY-Assets-Print-design .show_design{
        float: left;
        margin-bottom: 20px;
        margin-right: 20px;
    }
    #LAY-Assets-Print-design .system_1,#LAY-Assets-Print-design .system_2,#LAY-Assets-Print-design .user_1,#LAY-Assets-Print-design .user_2{
        margin: 0;
        padding: 0;
        width: 390px;
        height: 200px;
        overflow: hidden;
        border: 1px solid #e6e6e6;
        margin-bottom: 10px;
    }
    #LAY-Assets-Print-design .system_3,#LAY-Assets-Print-design .user_3{
        font-family: 华文中宋;
        margin: 0;
        padding: 0;
        width: 300px;
        height: 163px;
        overflow: hidden;
        border: 1px solid #e6e6e6;
    }
    #LAY-Assets-Print-design .system_3 .czsy_table,#LAY-Assets-Print-design .user_3 .czsy_table,#LAY-Assets-Print-design .user_5 .czsy_table{
        color:#000000;
        border: 1px solid #000000;
        width: 98%;
        margin-left: 6px;
        margin-bottom: 6px;
    }

    #LAY-Assets-Print-design .system_3 .czsy_table td{
        font-size: 12px;
        text-align: center;
        border: 1px solid #000000;
        color:#000000;
        -webkit-text-size-adjust:none;
        height: 20px !important;
        line-height: 20px !important;
    }
    #LAY-Assets-Print-design .czsy_table .czsy_title{
        width: 58px;
    }
    #LAY-Assets-Print-design .czsy_table .czsy_con{
        height: 20px;
        overflow: hidden;
    }
    #LAY-Assets-Print-design .system_3 .hospital_info,#LAY-Assets-Print-design .user_3 .hospital_info{
        float: left;
        width: 190px;
    }
    #LAY-Assets-Print-design .system_3 .czsy_barcode,#LAY-Assets-Print-design .user_3 .czsy_barcode{
        float: left;
        width: 108px;
        text-align: center;
        margin-left: 2px;
    }
    #LAY-Assets-Print-design .system_3 .czsy_barcode img,#LAY-Assets-Print-design .user_3 .czsy_barcode img{
        width: 95px;
    }

    #LAY-Assets-Print-design .user_3 .czsy_table td,#LAY-Assets-Print-design .user_5 .czsy_table td{
        font-size: {$font_size[user_3]}px;
        text-align: center;
        border: 1px solid #000000;
        color:000000;
        -webkit-text-size-adjust:none;
        height: 20px !important;
        line-height: 20px !important;
    }

    #LAY-Assets-Print-design .show_table td{
        padding: 0 !important;
    }
    #LAY-Assets-Print-design .line_height{
        padding: 0 !important;
        height: 25px !important;
        line-height: 25px !important;
    }
    #LAY-Assets-Print-design .img_line_height{
        padding: 0 !important;
        height: 75px !important;
    }
    #LAY-Assets-Print-design .hospital_name{
        color:#000000;
        text-align: center;
        font-size: 22px;
        height: 25px;
        line-height: 25px;
        margin: 5px auto 5px auto;
    }
    #LAY-Assets-Print-design .system_1 .show_table{
        color:#000000;
        font-size: {$font_size[system_1]}px;
        width: 97% !important;
        margin-left: 5px;
    }
    #LAY-Assets-Print-design .system_2 .show_table{
        color:#000000;
        font-size: {$font_size[system_2]}px;
        width: 97% !important;
        margin-left: 5px;
    }

    #LAY-Assets-Print-design .user_1 .show_table{
        color:#000000;
        font-size: {$font_size[user_1]}px;
        width: 97% !important;
        margin-left: 5px;
    }
    #LAY-Assets-Print-design .user_2 .show_table{
        color:#000000;
        font-size: {$font_size[user_2]}px;
        width: 97% !important;
        margin-left: 5px;
    }
    #LAY-Assets-Print-design .row_td{
        width: 79%;
    }
    #LAY-Assets-Print-design .td_img{
        max-width: 80px;
        max-height: 80px;
        text-align: left;
    }
    #LAY-Assets-Print-design .td_img img{
        width:70px;
    }

    #LAY-Assets-Print-design .system_2 .row_td{
        width: 72%;
    }
    #LAY-Assets-Print-design .system_2 .td_img{
        padding: 0 !important;
        max-width: 100px !important;
        max-height: 100px !important;
        text-align: left;
    }
    #LAY-Assets-Print-design .system_2 .td_img img{
        width:100px;
        padding: 0 !important;
    }
    #LAY-Assets-Print-design .user_design{
        width: 390px;
        height: 190px;
        border: 1px solid #e6e6e6;
        margin-bottom: 10px;
        color:#E7E7E7;
        font-size: 26px;
        text-align: center;
        line-height: 200px;
    }



#LAY-Assets-Print-design .system_3,#LAY-Assets-Print-design .user_3{
        font-family: 华文中宋;
        margin: 0;
        padding: 0;
        width: 300px;
        height: 163px;
        overflow: hidden;
        border: 1px solid #e6e6e6;
    }
    #LAY-Assets-Print-design .system_3 .czsy_table,#LAY-Assets-Print-design .user_3 .czsy_table{
        color:#000000;
        border: 1px solid #000000;
        width: 98%;
        margin-left: 6px;
        margin-bottom: 6px;
    }
    #LAY-Assets-Print-design .system_3 .hospital_info,#LAY-Assets-Print-design .user_3 .hospital_info{
        float: left;
        width: 190px;
    }
    #LAY-Assets-Print-design .system_3 .czsy_barcode,#LAY-Assets-Print-design .user_3 .czsy_barcode{
        float: left;
        width: 108px;
        text-align: center;
        margin-left: 2px;
    }
    #LAY-Assets-Print-design .system_3 .czsy_barcode img,#LAY-Assets-Print-design .user_3 .czsy_barcode img{
        width: 95px;
    }

    #LAY-Assets-Print-design .user_3 .czsy_table td{
        font-size: {$font_size[user_3]}px;
        text-align: center;
        border: 1px solid #000000;
        color:000000;
        -webkit-text-size-adjust:none;
        height: 20px !important;
        line-height: 20px !important;
    }














    /*system4*/
    #LAY-Assets-Print-design .system_4,#LAY-Assets-Print-design .user_4{
        font-family: 华文中宋;
        margin: 0;
        height: 163px;
        padding:0;
        width: 300px;
        overflow: hidden;
        border: 1px solid #e6e6e6;
    }
    #LAY-Assets-Print-design .system_4 .czsy_table,#LAY-Assets-Print-design .user_4 .czsy_table{
        color:#000000;
        border: 1px solid #000000;
        margin: 6px 4px;
    }
    #LAY-Assets-Print-design .system_4 .czsy_table td{
        font-size: 12px;
        text-align: center;
        border: 1px solid #000000;
        -webkit-text-size-adjust:none;
        height: 20px !important;
        line-height: 20px !important;
    }
    #LAY-Assets-Print-design .user_4 .czsy_table td{
        text-align: center;
        border: 1px solid #000000;
        -webkit-text-size-adjust:none;
        height: 16px !important;
        line-height: 16px !important;
        font-size: {$font_size[user_4]}px;
    }




    #LAY-Assets-Print-design .system_4 .czsy_table .czsy_title,#LAY-Assets-Print-design .user_4 .czsy_table .czsy_title{
        width: 55px;
        text-align: center;
    }
    #LAY-Assets-Print-design .system_4 .czsy_table .czsy_con,#LAY-Assets-Print-design .user_4 .czsy_table .czsy_con{
        min-width: 130px;
        overflow: hidden;
    }
    #LAY-Assets-Print-design .system_4 .czsy_table .bot_assnum,#LAY-Assets-Print-design .user_4 .czsy_table .bot_assnum{
        width: 100px;
        text-align: center;
        overflow: hidden;
    }
    #LAY-Assets-Print-design .system_4 .czsy_barcode,#LAY-Assets-Print-design .user_4 .czsy_barcode{
        width: 95px;
        height: 95px;
        overflow: hidden;
    }

    /*system5*/
    #LAY-Assets-Print-design .system_5{
        font-family: 华文中宋;
        margin: 0 auto;
        padding: 2px 0 0 0;
        width: 200px;
        overflow: hidden;
        border: 1px solid #e6e6e6;
        margin-bottom: 10px;
    }
    #LAY-Assets-Print-design .system_5 .other_barcode{
        width: 160px;
        height: 155px;
        margin: 0 auto;
        overflow: hidden;
    }
    #LAY-Assets-Print-design .system_5 .other_barcode img{
        width: 155px;
        margin: 0;
    }

    /*system6*/
    #LAY-Assets-Print-design .system_6{
        font-family: 华文中宋;
        margin: 0 auto;
        padding: 2px 0 0 0;
        width: 150px;
        overflow: hidden;
        border: 1px solid #e6e6e6;
        margin-bottom: 10px;
    }
    #LAY-Assets-Print-design .system_6 .other_barcode{
        width: 90px;
        height: 90px;
        margin: 0 auto;
        overflow: hidden;
    }
    #LAY-Assets-Print-design .system_6 .other_barcode img{
        width: 90px;
        margin: 0;
    }

    /*system7*/
    #LAY-Assets-Print-design .system_7{
        font-family: 华文中宋;
        margin: 0 auto;
        padding: 0;
        width: 90px;
        overflow: hidden;
        border: 1px solid #e6e6e6;
        margin-bottom: 5px;
    }
    #LAY-Assets-Print-design .system_7 .other_barcode{
        width: 55px;
        height: 52px;
        margin: 0 auto;
        overflow: hidden;
    }
    #LAY-Assets-Print-design .system_7 .other_barcode img{
        width: 52px;
        margin: 0;
    }
    #LAY-Assets-Print-design .system_7 .xbh{
        font-size: 10px;
        text-align: center;
    }
</style>
<div class="layui-fluid" style="background:#fff;min-height: 500px;" id="LAY-Assets-Print-design">
    <div class="layui-row">
        <div class="layui-col-md12">
            <div class="layui-card">
                <blockquote class="layui-elem-quote cusquote1">
                    注：边框颜色为<span style="color:#FFB800;"> █ </span>是用户自定义标签
                </blockquote>
                <div class="layui-tab layui-tab-brief" lay-filter="docDemoTabBrief">
                    <ul class="layui-tab-title">
                        <li class="layui-this">斑马打印机</li>
                        <li>兄弟打印机</li>
                        <li>其他</li>
                    </ul>
                    <div class="layui-tab-content" style="height: 520px;">
                        <div class="layui-tab-item layui-show">
                            <volist name="temps.zebra" id="tp" key="k1">
                                <div class="show_design">
                                    {$tp.temp_content}
                                </div>
                            </volist>
                            <div class="show_design">
                                <div class="user_design">
                                    自定义样式
                                </div>
                                <div class="layui-btn-group" style="width:100%;text-align: center;">
                                    <button type="button" class="layui-btn layui-btn-sm layui-btn-warm design_label" style="margin: 0 0 0 60px;">
                                        <i class="iconfont icon-design" ></i> 新增/修改自定义标签
                                    </button>
                                </div>
                            </div>
                        </div>
                        <div class="layui-tab-item">
                            <div style="margin: 10px auto;">兄弟打印机首选项设置：纸张大小36mm， 长度建议60mm，或自行调试其他合适的纸张长度，以节约打印纸</div>
                            <volist name="temps.brother" id="tp" key="k1">
                            <div class="show_design">
                                {$tp.temp_content}
                            </div>
                            </volist>
                            <div class="show_design">

                            </div>
                            <div class="show_design">
                                <div class="user_design"  style="width: 280px;height: 145px;line-height: 145px;">
                                    自定义样式
                                </div>
                                <div class="layui-btn-group" style="width:100%;text-align: center;">
                                    <button type="button" class="layui-btn layui-btn-sm layui-btn-warm design_label" style="margin: 0 0 0 60px;">
                                        <i class="iconfont icon-design" ></i> 新增/修改自定义标签
                                    </button>
                                </div>
                            </div>
                        </div>
                        <div class="layui-tab-item">
                            <volist name="temps.other" id="tp" key="k1">
                            <div class="show_design">
                                {$tp.temp_content}
                            </div>
                            </volist>
                            <div class="show_design">

                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="print_test" style="display: none;">
    <style>
        #print_test body{
            color:#000000;
            font-size: 16px;
        }
        @page{
            margin:12px 0 0 0;
            font-family: "Microsoft YaHei", "微软雅黑", "Hiragino Sans GB", STHeiti, simsun, sans-serif, Arial;
        }
        #print_test .system_1,#print_test .system_2,#print_test .user_1,#print_test .user_2{
            margin: 0;
            padding: 0;
            width: 390px;
            height: 200px;
            overflow: hidden;
            margin-bottom: 10px;
        }

        #print_test .system_3,#print_test .user_3{
            font-family: 华文中宋;
            margin: 0;
            padding:0;
            height: 163px;
            width: 300px;
            overflow: hidden;
            border: 1px solid #e6e6e6;
        }
        #print_test .system_3 .czsy_table,#print_test .user_3 .czsy_table{
            border: 1px solid #000000;
            width: 98% !important;
            margin-left: 6px;
            margin-bottom: 6px;
            color:#000000;
        }
        #print_test .system_3 .czsy_table td{
            font-size: 12px;
            text-align: center;
            border: 1px solid #000000;
            height: 20px !important;
            line-height: 20px !important;
        }
        #print_test .user_3 .czsy_table td{
            color:#000000;
            font-size: {$font_size[user_3]}px;
            text-align: center;
            border: 1px solid #000000;
            -webkit-text-size-adjust:none;
            height: 18px !important;
            line-height: 18px !important;
        }

        #print_test .czsy_table .czsy_title{
            width: 58px;
        }
        #print_test .czsy_table .czsy_con{
            height: 20px;
            overflow: hidden;
        }

        #print_test .system_3 .hospital_info{
            float: left;
            width: 190px;
        }
        #print_test .user_3 .hospital_info{
            float: left;
            width: 190px;
        }
        #print_test .system_3 .czsy_barcode,#print_test .user_3 .czsy_barcode{
            float: left;
            width: 108px;
            text-align: center;
            margin-left: 2px;
        }
        #print_test .system_3 .czsy_barcode img,#print_test .user_3 .czsy_barcode img{
            width: 95px;
        }

        #print_test .hospital_name{
            color:#000000;
            text-align: center;
            font-size: 22px;
            height: 25px;
            line-height: 25px;
            margin: 5px auto 2px auto;
        }
        #print_test .show_table td{
            padding: 0 !important;
        }
        #print_test .line_height{
            padding: 0 !important;
            height: 25px !important;
            line-height: 25px !important;
        }
        #print_test .img_line_height{
            padding: 0 !important;
            height: 75px !important;
        }
        #print_test .system_1 .show_table{
            color:#000000;
            font-size: {$font_size[system_1]}px;
            width: 97% !important;
            margin-left: 5px;
        }
        #print_test .system_2 .show_table{
            color:#000000;
            font-size: {$font_size[system_2]}px;
            width: 97% !important;
            margin-left: 5px;
        }
        #print_test .user_1 .show_table{
            color:#000000;
            font-size: {$font_size[user_1]}px;
            width: 97% !important;
            margin-left: 5px;
        }
        #print_test .user_2 .show_table{
            color:#000000;
            font-size: {$font_size[user_2]}px;
            width: 97% !important;
            margin-left: 5px;
        }
        #print_test .row_td{
            width: 79%;
        }
        #print_test .td_img{
            max-width: 80px;
            max-height: 80px;
            text-align: left;
        }
        #print_test .td_img img{
            width:70px;
        }

        #print_test .system_2 .row_td{
            width: 72%;
        }
        #print_test .system_2 .td_img{
            padding: 0 !important;
            max-width: 100px !important;
            max-height: 100px !important;
            text-align: left;
        }
        #print_test .system_2 .td_img img{
            width:100px;
            padding: 0 !important;
        }

        #print_test .user_2 .row_td{
            width: 72%;
        }
        #print_test .user_2 .td_img{
            padding: 0 !important;
            max-width: 100px !important;
            max-height: 100px !important;
            text-align: left;
        }
        #print_test .user_2 .td_img img{
            width:100px;
            padding: 0 !important;
        }


        /*system4*/
        #print_test .system_4,#print_test .user_4{
            font-family: 华文中宋;
            margin: 0;
            padding: 0;
            height: 163px;
            width: 300px;
            overflow: hidden;
            border: 1px solid #e6e6e6;
        }
        #print_test .system_4 .czsy_table,#print_test .user_4 .czsy_table{
            color:#000000;
            border: 1px solid #000000;
            margin: 6px 4px;
        }
        #print_test .system_4 .czsy_table td{
            font-size: 12px;
            text-align: center;
            border: 1px solid #000000;
            -webkit-text-size-adjust:none;
            height: 20px !important;
            line-height: 20px !important;
        }
        #print_test .user_4 .czsy_table td{
            text-align: center;
            border: 1px solid #000000;
            -webkit-text-size-adjust:none;
            height: 16px !important;
            line-height: 16px !important;
            font-size: {$font_size[user_4]}px;
        }
        #print_test .system_4 .czsy_table .czsy_title,#print_test .user_4 .czsy_table .czsy_title{
            width: 55px;
            text-align: center;
        }
        #print_test .system_4 .czsy_table .czsy_con,#print_test .user_4 .czsy_table .czsy_con{
            min-width: 130px;
            overflow: hidden;
        }
        #print_test .system_4 .czsy_table .bot_assnum,#print_test .user_4 .czsy_table .bot_assnum{
            width: 100px;
            text-align: center;
            overflow: hidden;
        }
        #print_test .system_4 .czsy_barcode,#print_test .user_4 .czsy_barcode{
            width: 95px;
            height: 95px;
            overflow: hidden;
        }

        /*system5*/
        #print_test .system_5{
            font-family: 华文中宋;
            margin: 0 auto;
            padding: 2px 0 0 0;
            width: 200px;
            overflow: hidden;
            border: 1px solid #e6e6e6;
            margin-bottom: 10px;
        }
        #print_test .system_5 .other_barcode{
            width: 160px;
            height: 155px;
            margin: 0 auto;
            overflow: hidden;
        }
        #print_test .system_5 .other_barcode img{
            width: 155px;
            margin: 0;
        }

        /*system6*/
        #print_test .system_6{
            font-family: 华文中宋;
            margin: 0 auto;
            padding: 2px 0 0 0;
            width: 150px;
            overflow: hidden;
            border: 1px solid #e6e6e6;
            margin-bottom: 10px;
        }
        #print_test .system_6 .other_barcode{
            width: 90px;
            height: 90px;
            margin: 0 auto;
            overflow: hidden;
        }
        #print_test .system_6 .other_barcode img{
            width: 90px;
            margin: 0;
        }

        /*system7*/
        #print_test .system_7{
            font-family: 华文中宋;
            margin: 0 auto;
            padding: 0;
            width: 90px;
            overflow: hidden;
            border: 1px solid #e6e6e6;
            margin-bottom: 5px;
        }
        #print_test .system_7 .other_barcode{
            width: 55px;
            height: 52px;
            margin: 0 auto;
            overflow: hidden;
        }
        #print_test .system_7 .other_barcode img{
            width: 52px;
            margin: 0;
        }
        #print_test .system_7 .xbh{
            font-size: 8px;
            text-align: center;
            margin-top: -3px;
        }


    </style>
</div>
<script src="__PUBLIC__/js/jquery.PrintArea.js" type="text/javascript"></script>
<script src="__PUBLIC__/js/jsBarcode.all.min.js"></script>
<script>
var numbers = document.querySelectorAll('[id^="barcode_"][data-number]');
    var values = Array.from(numbers).map(function(element,index) {
        JsBarcode("#barcode_"+ index, element.getAttribute('data-number'), {
            format: "CODE128",
            lineColor: "#000000",
            width: 1,
            height: 40,
            displayValue: false,
            orientation: 'vertical',
        });
    });
</script>
<script>
    layui.use('assets/print/design', layui.factory('assets/print/design'));
</script>
